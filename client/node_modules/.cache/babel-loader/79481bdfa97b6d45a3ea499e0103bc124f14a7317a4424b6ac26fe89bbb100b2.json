{"ast":null,"code":"\"use strict\";\n\nvar ConsoleLogger_1;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConsoleLogger = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"util\");\nconst core_1 = require(\"../decorators/core\");\nconst cli_colors_util_1 = require(\"../utils/cli-colors.util\");\nconst shared_utils_1 = require(\"../utils/shared.utils\");\nconst is_log_level_enabled_util_1 = require(\"./utils/is-log-level-enabled.util\");\nconst DEFAULT_DEPTH = 5;\nconst DEFAULT_LOG_LEVELS = ['log', 'error', 'warn', 'debug', 'verbose', 'fatal'];\nconst dateTimeFormatter = new Intl.DateTimeFormat(undefined, {\n  year: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric',\n  day: '2-digit',\n  month: '2-digit'\n});\n/**\n * @publicApi\n */\nlet ConsoleLogger = ConsoleLogger_1 = class ConsoleLogger {\n  constructor(contextOrOptions, options) {\n    // eslint-disable-next-line prefer-const\n    let [context, opts] = (0, shared_utils_1.isString)(contextOrOptions) ? [contextOrOptions, options] : options ? [undefined, options] : [contextOrOptions?.context, contextOrOptions];\n    opts = opts ?? {};\n    opts.logLevels ??= DEFAULT_LOG_LEVELS;\n    opts.colors ??= opts.colors ?? (opts.json ? false : true);\n    opts.prefix ??= 'Nest';\n    this.options = opts;\n    this.inspectOptions = this.getInspectOptions();\n    if (context) {\n      this.context = context;\n      this.originalContext = context;\n    }\n  }\n  log(message, ...optionalParams) {\n    if (!this.isLevelEnabled('log')) {\n      return;\n    }\n    const {\n      messages,\n      context\n    } = this.getContextAndMessagesToPrint([message, ...optionalParams]);\n    this.printMessages(messages, context, 'log');\n  }\n  error(message, ...optionalParams) {\n    if (!this.isLevelEnabled('error')) {\n      return;\n    }\n    const {\n      messages,\n      context,\n      stack\n    } = this.getContextAndStackAndMessagesToPrint([message, ...optionalParams]);\n    this.printMessages(messages, context, 'error', 'stderr', stack);\n    this.printStackTrace(stack);\n  }\n  warn(message, ...optionalParams) {\n    if (!this.isLevelEnabled('warn')) {\n      return;\n    }\n    const {\n      messages,\n      context\n    } = this.getContextAndMessagesToPrint([message, ...optionalParams]);\n    this.printMessages(messages, context, 'warn');\n  }\n  debug(message, ...optionalParams) {\n    if (!this.isLevelEnabled('debug')) {\n      return;\n    }\n    const {\n      messages,\n      context\n    } = this.getContextAndMessagesToPrint([message, ...optionalParams]);\n    this.printMessages(messages, context, 'debug');\n  }\n  verbose(message, ...optionalParams) {\n    if (!this.isLevelEnabled('verbose')) {\n      return;\n    }\n    const {\n      messages,\n      context\n    } = this.getContextAndMessagesToPrint([message, ...optionalParams]);\n    this.printMessages(messages, context, 'verbose');\n  }\n  fatal(message, ...optionalParams) {\n    if (!this.isLevelEnabled('fatal')) {\n      return;\n    }\n    const {\n      messages,\n      context\n    } = this.getContextAndMessagesToPrint([message, ...optionalParams]);\n    this.printMessages(messages, context, 'fatal');\n  }\n  /**\n   * Set log levels\n   * @param levels log levels\n   */\n  setLogLevels(levels) {\n    if (!this.options) {\n      this.options = {};\n    }\n    this.options.logLevels = levels;\n  }\n  /**\n   * Set logger context\n   * @param context context\n   */\n  setContext(context) {\n    this.context = context;\n  }\n  /**\n   * Resets the logger context to the value that was passed in the constructor.\n   */\n  resetContext() {\n    this.context = this.originalContext;\n  }\n  isLevelEnabled(level) {\n    const logLevels = this.options?.logLevels;\n    return (0, is_log_level_enabled_util_1.isLogLevelEnabled)(level, logLevels);\n  }\n  getTimestamp() {\n    return dateTimeFormatter.format(Date.now());\n  }\n  printMessages(messages, context = '', logLevel = 'log', writeStreamType, errorStack) {\n    messages.forEach(message => {\n      if (this.options.json) {\n        this.printAsJson(message, {\n          context,\n          logLevel,\n          writeStreamType,\n          errorStack\n        });\n        return;\n      }\n      const pidMessage = this.formatPid(process.pid);\n      const contextMessage = this.formatContext(context);\n      const timestampDiff = this.updateAndGetTimestampDiff();\n      const formattedLogLevel = logLevel.toUpperCase().padStart(7, ' ');\n      const formattedMessage = this.formatMessage(logLevel, message, pidMessage, formattedLogLevel, contextMessage, timestampDiff);\n      process[writeStreamType ?? 'stdout'].write(formattedMessage);\n    });\n  }\n  printAsJson(message, options) {\n    const logObject = this.getJsonLogObject(message, options);\n    const formattedMessage = !this.options.colors && this.inspectOptions.compact === true ? JSON.stringify(logObject, this.stringifyReplacer) : (0, util_1.inspect)(logObject, this.inspectOptions);\n    process[options.writeStreamType ?? 'stdout'].write(`${formattedMessage}\\n`);\n  }\n  getJsonLogObject(message, options) {\n    const logObject = {\n      level: options.logLevel,\n      pid: process.pid,\n      timestamp: Date.now(),\n      message\n    };\n    if (options.context) {\n      logObject.context = options.context;\n    }\n    if (options.errorStack) {\n      logObject.stack = options.errorStack;\n    }\n    return logObject;\n  }\n  formatPid(pid) {\n    return `[${this.options.prefix}] ${pid}  - `;\n  }\n  formatContext(context) {\n    if (!context) {\n      return '';\n    }\n    context = `[${context}] `;\n    return this.options.colors ? (0, cli_colors_util_1.yellow)(context) : context;\n  }\n  formatMessage(logLevel, message, pidMessage, formattedLogLevel, contextMessage, timestampDiff) {\n    const output = this.stringifyMessage(message, logLevel);\n    pidMessage = this.colorize(pidMessage, logLevel);\n    formattedLogLevel = this.colorize(formattedLogLevel, logLevel);\n    return `${pidMessage}${this.getTimestamp()} ${formattedLogLevel} ${contextMessage}${output}${timestampDiff}\\n`;\n  }\n  stringifyMessage(message, logLevel) {\n    if ((0, shared_utils_1.isFunction)(message)) {\n      const messageAsStr = Function.prototype.toString.call(message);\n      const isClass = messageAsStr.startsWith('class ');\n      if (isClass) {\n        // If the message is a class, we will display the class name.\n        return this.stringifyMessage(message.name, logLevel);\n      }\n      // If the message is a non-class function, call it and re-resolve its value.\n      return this.stringifyMessage(message(), logLevel);\n    }\n    if (typeof message === 'string') {\n      return this.colorize(message, logLevel);\n    }\n    const outputText = (0, util_1.inspect)(message, this.inspectOptions);\n    if ((0, shared_utils_1.isPlainObject)(message)) {\n      return `Object(${Object.keys(message).length}) ${outputText}`;\n    }\n    if (Array.isArray(message)) {\n      return `Array(${message.length}) ${outputText}`;\n    }\n    return outputText;\n  }\n  colorize(message, logLevel) {\n    if (!this.options.colors || this.options.json) {\n      return message;\n    }\n    const color = this.getColorByLogLevel(logLevel);\n    return color(message);\n  }\n  printStackTrace(stack) {\n    if (!stack || this.options.json) {\n      return;\n    }\n    process.stderr.write(`${stack}\\n`);\n  }\n  updateAndGetTimestampDiff() {\n    const includeTimestamp = ConsoleLogger_1.lastTimestampAt && this.options?.timestamp;\n    const result = includeTimestamp ? this.formatTimestampDiff(Date.now() - ConsoleLogger_1.lastTimestampAt) : '';\n    ConsoleLogger_1.lastTimestampAt = Date.now();\n    return result;\n  }\n  formatTimestampDiff(timestampDiff) {\n    const formattedDiff = ` +${timestampDiff}ms`;\n    return this.options.colors ? (0, cli_colors_util_1.yellow)(formattedDiff) : formattedDiff;\n  }\n  getInspectOptions() {\n    let breakLength = this.options.breakLength;\n    if (typeof breakLength === 'undefined') {\n      breakLength = this.options.colors ? this.options.compact ? Infinity : undefined : this.options.compact === false ? undefined : Infinity; // default breakLength to Infinity if inline is not set and colors is false\n    }\n    const inspectOptions = {\n      depth: this.options.depth ?? DEFAULT_DEPTH,\n      sorted: this.options.sorted,\n      showHidden: this.options.showHidden,\n      compact: this.options.compact ?? (this.options.json ? true : false),\n      colors: this.options.colors,\n      breakLength\n    };\n    if (this.options.maxArrayLength) {\n      inspectOptions.maxArrayLength = this.options.maxArrayLength;\n    }\n    if (this.options.maxStringLength) {\n      inspectOptions.maxStringLength = this.options.maxStringLength;\n    }\n    return inspectOptions;\n  }\n  stringifyReplacer(key, value) {\n    // Mimic util.inspect behavior for JSON logger with compact on and colors off\n    if (typeof value === 'bigint') {\n      return value.toString();\n    }\n    if (typeof value === 'symbol') {\n      return value.toString();\n    }\n    if (value instanceof Map || value instanceof Set || value instanceof Error) {\n      return `${(0, util_1.inspect)(value, this.inspectOptions)}`;\n    }\n    return value;\n  }\n  getContextAndMessagesToPrint(args) {\n    if (args?.length <= 1) {\n      return {\n        messages: args,\n        context: this.context\n      };\n    }\n    const lastElement = args[args.length - 1];\n    const isContext = (0, shared_utils_1.isString)(lastElement);\n    if (!isContext) {\n      return {\n        messages: args,\n        context: this.context\n      };\n    }\n    return {\n      context: lastElement,\n      messages: args.slice(0, args.length - 1)\n    };\n  }\n  getContextAndStackAndMessagesToPrint(args) {\n    if (args.length === 2) {\n      return this.isStackFormat(args[1]) ? {\n        messages: [args[0]],\n        stack: args[1],\n        context: this.context\n      } : {\n        messages: [args[0]],\n        context: args[1]\n      };\n    }\n    const {\n      messages,\n      context\n    } = this.getContextAndMessagesToPrint(args);\n    if (messages?.length <= 1) {\n      return {\n        messages,\n        context\n      };\n    }\n    const lastElement = messages[messages.length - 1];\n    const isStack = (0, shared_utils_1.isString)(lastElement);\n    // https://github.com/nestjs/nest/issues/11074#issuecomment-1421680060\n    if (!isStack && !(0, shared_utils_1.isUndefined)(lastElement)) {\n      return {\n        messages,\n        context\n      };\n    }\n    return {\n      stack: lastElement,\n      messages: messages.slice(0, messages.length - 1),\n      context\n    };\n  }\n  isStackFormat(stack) {\n    if (!(0, shared_utils_1.isString)(stack) && !(0, shared_utils_1.isUndefined)(stack)) {\n      return false;\n    }\n    return /^(.)+\\n\\s+at .+:\\d+:\\d+/.test(stack);\n  }\n  getColorByLogLevel(level) {\n    switch (level) {\n      case 'debug':\n        return cli_colors_util_1.clc.magentaBright;\n      case 'warn':\n        return cli_colors_util_1.clc.yellow;\n      case 'error':\n        return cli_colors_util_1.clc.red;\n      case 'verbose':\n        return cli_colors_util_1.clc.cyanBright;\n      case 'fatal':\n        return cli_colors_util_1.clc.bold;\n      default:\n        return cli_colors_util_1.clc.green;\n    }\n  }\n};\nexports.ConsoleLogger = ConsoleLogger;\nexports.ConsoleLogger = ConsoleLogger = ConsoleLogger_1 = tslib_1.__decorate([(0, core_1.Injectable)(), tslib_1.__param(0, (0, core_1.Optional)()), tslib_1.__param(1, (0, core_1.Optional)()), tslib_1.__metadata(\"design:paramtypes\", [Object, Object])], ConsoleLogger);","map":{"version":3,"names":["ConsoleLogger_1","Object","defineProperty","exports","value","ConsoleLogger","tslib_1","require","util_1","core_1","cli_colors_util_1","shared_utils_1","is_log_level_enabled_util_1","DEFAULT_DEPTH","DEFAULT_LOG_LEVELS","dateTimeFormatter","Intl","DateTimeFormat","undefined","year","hour","minute","second","day","month","constructor","contextOrOptions","options","context","opts","isString","logLevels","colors","json","prefix","inspectOptions","getInspectOptions","originalContext","log","message","optionalParams","isLevelEnabled","messages","getContextAndMessagesToPrint","printMessages","error","stack","getContextAndStackAndMessagesToPrint","printStackTrace","warn","debug","verbose","fatal","setLogLevels","levels","setContext","resetContext","level","isLogLevelEnabled","getTimestamp","format","Date","now","logLevel","writeStreamType","errorStack","forEach","printAsJson","pidMessage","formatPid","process","pid","contextMessage","formatContext","timestampDiff","updateAndGetTimestampDiff","formattedLogLevel","toUpperCase","padStart","formattedMessage","formatMessage","write","logObject","getJsonLogObject","compact","JSON","stringify","stringifyReplacer","inspect","timestamp","yellow","output","stringifyMessage","colorize","isFunction","messageAsStr","Function","prototype","toString","call","isClass","startsWith","name","outputText","isPlainObject","keys","length","Array","isArray","color","getColorByLogLevel","stderr","includeTimestamp","lastTimestampAt","result","formatTimestampDiff","formattedDiff","breakLength","Infinity","depth","sorted","showHidden","maxArrayLength","maxStringLength","key","Map","Set","Error","args","lastElement","isContext","slice","isStackFormat","isStack","isUndefined","test","clc","magentaBright","red","cyanBright","bold","green","__decorate","Injectable","__param","Optional","__metadata"],"sources":["C:/Users/Fran/Documents/OlavarraFps/clase1/AFIPNest/proyecto-nombre/node_modules/@nestjs/common/services/console-logger.service.js"],"sourcesContent":["\"use strict\";\nvar ConsoleLogger_1;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsoleLogger = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"util\");\nconst core_1 = require(\"../decorators/core\");\nconst cli_colors_util_1 = require(\"../utils/cli-colors.util\");\nconst shared_utils_1 = require(\"../utils/shared.utils\");\nconst is_log_level_enabled_util_1 = require(\"./utils/is-log-level-enabled.util\");\nconst DEFAULT_DEPTH = 5;\nconst DEFAULT_LOG_LEVELS = [\n    'log',\n    'error',\n    'warn',\n    'debug',\n    'verbose',\n    'fatal',\n];\nconst dateTimeFormatter = new Intl.DateTimeFormat(undefined, {\n    year: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n    day: '2-digit',\n    month: '2-digit',\n});\n/**\n * @publicApi\n */\nlet ConsoleLogger = ConsoleLogger_1 = class ConsoleLogger {\n    constructor(contextOrOptions, options) {\n        // eslint-disable-next-line prefer-const\n        let [context, opts] = (0, shared_utils_1.isString)(contextOrOptions)\n            ? [contextOrOptions, options]\n            : options\n                ? [undefined, options]\n                : [contextOrOptions?.context, contextOrOptions];\n        opts = opts ?? {};\n        opts.logLevels ??= DEFAULT_LOG_LEVELS;\n        opts.colors ??= opts.colors ?? (opts.json ? false : true);\n        opts.prefix ??= 'Nest';\n        this.options = opts;\n        this.inspectOptions = this.getInspectOptions();\n        if (context) {\n            this.context = context;\n            this.originalContext = context;\n        }\n    }\n    log(message, ...optionalParams) {\n        if (!this.isLevelEnabled('log')) {\n            return;\n        }\n        const { messages, context } = this.getContextAndMessagesToPrint([\n            message,\n            ...optionalParams,\n        ]);\n        this.printMessages(messages, context, 'log');\n    }\n    error(message, ...optionalParams) {\n        if (!this.isLevelEnabled('error')) {\n            return;\n        }\n        const { messages, context, stack } = this.getContextAndStackAndMessagesToPrint([message, ...optionalParams]);\n        this.printMessages(messages, context, 'error', 'stderr', stack);\n        this.printStackTrace(stack);\n    }\n    warn(message, ...optionalParams) {\n        if (!this.isLevelEnabled('warn')) {\n            return;\n        }\n        const { messages, context } = this.getContextAndMessagesToPrint([\n            message,\n            ...optionalParams,\n        ]);\n        this.printMessages(messages, context, 'warn');\n    }\n    debug(message, ...optionalParams) {\n        if (!this.isLevelEnabled('debug')) {\n            return;\n        }\n        const { messages, context } = this.getContextAndMessagesToPrint([\n            message,\n            ...optionalParams,\n        ]);\n        this.printMessages(messages, context, 'debug');\n    }\n    verbose(message, ...optionalParams) {\n        if (!this.isLevelEnabled('verbose')) {\n            return;\n        }\n        const { messages, context } = this.getContextAndMessagesToPrint([\n            message,\n            ...optionalParams,\n        ]);\n        this.printMessages(messages, context, 'verbose');\n    }\n    fatal(message, ...optionalParams) {\n        if (!this.isLevelEnabled('fatal')) {\n            return;\n        }\n        const { messages, context } = this.getContextAndMessagesToPrint([\n            message,\n            ...optionalParams,\n        ]);\n        this.printMessages(messages, context, 'fatal');\n    }\n    /**\n     * Set log levels\n     * @param levels log levels\n     */\n    setLogLevels(levels) {\n        if (!this.options) {\n            this.options = {};\n        }\n        this.options.logLevels = levels;\n    }\n    /**\n     * Set logger context\n     * @param context context\n     */\n    setContext(context) {\n        this.context = context;\n    }\n    /**\n     * Resets the logger context to the value that was passed in the constructor.\n     */\n    resetContext() {\n        this.context = this.originalContext;\n    }\n    isLevelEnabled(level) {\n        const logLevels = this.options?.logLevels;\n        return (0, is_log_level_enabled_util_1.isLogLevelEnabled)(level, logLevels);\n    }\n    getTimestamp() {\n        return dateTimeFormatter.format(Date.now());\n    }\n    printMessages(messages, context = '', logLevel = 'log', writeStreamType, errorStack) {\n        messages.forEach(message => {\n            if (this.options.json) {\n                this.printAsJson(message, {\n                    context,\n                    logLevel,\n                    writeStreamType,\n                    errorStack,\n                });\n                return;\n            }\n            const pidMessage = this.formatPid(process.pid);\n            const contextMessage = this.formatContext(context);\n            const timestampDiff = this.updateAndGetTimestampDiff();\n            const formattedLogLevel = logLevel.toUpperCase().padStart(7, ' ');\n            const formattedMessage = this.formatMessage(logLevel, message, pidMessage, formattedLogLevel, contextMessage, timestampDiff);\n            process[writeStreamType ?? 'stdout'].write(formattedMessage);\n        });\n    }\n    printAsJson(message, options) {\n        const logObject = this.getJsonLogObject(message, options);\n        const formattedMessage = !this.options.colors && this.inspectOptions.compact === true\n            ? JSON.stringify(logObject, this.stringifyReplacer)\n            : (0, util_1.inspect)(logObject, this.inspectOptions);\n        process[options.writeStreamType ?? 'stdout'].write(`${formattedMessage}\\n`);\n    }\n    getJsonLogObject(message, options) {\n        const logObject = {\n            level: options.logLevel,\n            pid: process.pid,\n            timestamp: Date.now(),\n            message,\n        };\n        if (options.context) {\n            logObject.context = options.context;\n        }\n        if (options.errorStack) {\n            logObject.stack = options.errorStack;\n        }\n        return logObject;\n    }\n    formatPid(pid) {\n        return `[${this.options.prefix}] ${pid}  - `;\n    }\n    formatContext(context) {\n        if (!context) {\n            return '';\n        }\n        context = `[${context}] `;\n        return this.options.colors ? (0, cli_colors_util_1.yellow)(context) : context;\n    }\n    formatMessage(logLevel, message, pidMessage, formattedLogLevel, contextMessage, timestampDiff) {\n        const output = this.stringifyMessage(message, logLevel);\n        pidMessage = this.colorize(pidMessage, logLevel);\n        formattedLogLevel = this.colorize(formattedLogLevel, logLevel);\n        return `${pidMessage}${this.getTimestamp()} ${formattedLogLevel} ${contextMessage}${output}${timestampDiff}\\n`;\n    }\n    stringifyMessage(message, logLevel) {\n        if ((0, shared_utils_1.isFunction)(message)) {\n            const messageAsStr = Function.prototype.toString.call(message);\n            const isClass = messageAsStr.startsWith('class ');\n            if (isClass) {\n                // If the message is a class, we will display the class name.\n                return this.stringifyMessage(message.name, logLevel);\n            }\n            // If the message is a non-class function, call it and re-resolve its value.\n            return this.stringifyMessage(message(), logLevel);\n        }\n        if (typeof message === 'string') {\n            return this.colorize(message, logLevel);\n        }\n        const outputText = (0, util_1.inspect)(message, this.inspectOptions);\n        if ((0, shared_utils_1.isPlainObject)(message)) {\n            return `Object(${Object.keys(message).length}) ${outputText}`;\n        }\n        if (Array.isArray(message)) {\n            return `Array(${message.length}) ${outputText}`;\n        }\n        return outputText;\n    }\n    colorize(message, logLevel) {\n        if (!this.options.colors || this.options.json) {\n            return message;\n        }\n        const color = this.getColorByLogLevel(logLevel);\n        return color(message);\n    }\n    printStackTrace(stack) {\n        if (!stack || this.options.json) {\n            return;\n        }\n        process.stderr.write(`${stack}\\n`);\n    }\n    updateAndGetTimestampDiff() {\n        const includeTimestamp = ConsoleLogger_1.lastTimestampAt && this.options?.timestamp;\n        const result = includeTimestamp\n            ? this.formatTimestampDiff(Date.now() - ConsoleLogger_1.lastTimestampAt)\n            : '';\n        ConsoleLogger_1.lastTimestampAt = Date.now();\n        return result;\n    }\n    formatTimestampDiff(timestampDiff) {\n        const formattedDiff = ` +${timestampDiff}ms`;\n        return this.options.colors ? (0, cli_colors_util_1.yellow)(formattedDiff) : formattedDiff;\n    }\n    getInspectOptions() {\n        let breakLength = this.options.breakLength;\n        if (typeof breakLength === 'undefined') {\n            breakLength = this.options.colors\n                ? this.options.compact\n                    ? Infinity\n                    : undefined\n                : this.options.compact === false\n                    ? undefined\n                    : Infinity; // default breakLength to Infinity if inline is not set and colors is false\n        }\n        const inspectOptions = {\n            depth: this.options.depth ?? DEFAULT_DEPTH,\n            sorted: this.options.sorted,\n            showHidden: this.options.showHidden,\n            compact: this.options.compact ?? (this.options.json ? true : false),\n            colors: this.options.colors,\n            breakLength,\n        };\n        if (this.options.maxArrayLength) {\n            inspectOptions.maxArrayLength = this.options.maxArrayLength;\n        }\n        if (this.options.maxStringLength) {\n            inspectOptions.maxStringLength = this.options.maxStringLength;\n        }\n        return inspectOptions;\n    }\n    stringifyReplacer(key, value) {\n        // Mimic util.inspect behavior for JSON logger with compact on and colors off\n        if (typeof value === 'bigint') {\n            return value.toString();\n        }\n        if (typeof value === 'symbol') {\n            return value.toString();\n        }\n        if (value instanceof Map ||\n            value instanceof Set ||\n            value instanceof Error) {\n            return `${(0, util_1.inspect)(value, this.inspectOptions)}`;\n        }\n        return value;\n    }\n    getContextAndMessagesToPrint(args) {\n        if (args?.length <= 1) {\n            return { messages: args, context: this.context };\n        }\n        const lastElement = args[args.length - 1];\n        const isContext = (0, shared_utils_1.isString)(lastElement);\n        if (!isContext) {\n            return { messages: args, context: this.context };\n        }\n        return {\n            context: lastElement,\n            messages: args.slice(0, args.length - 1),\n        };\n    }\n    getContextAndStackAndMessagesToPrint(args) {\n        if (args.length === 2) {\n            return this.isStackFormat(args[1])\n                ? {\n                    messages: [args[0]],\n                    stack: args[1],\n                    context: this.context,\n                }\n                : {\n                    messages: [args[0]],\n                    context: args[1],\n                };\n        }\n        const { messages, context } = this.getContextAndMessagesToPrint(args);\n        if (messages?.length <= 1) {\n            return { messages, context };\n        }\n        const lastElement = messages[messages.length - 1];\n        const isStack = (0, shared_utils_1.isString)(lastElement);\n        // https://github.com/nestjs/nest/issues/11074#issuecomment-1421680060\n        if (!isStack && !(0, shared_utils_1.isUndefined)(lastElement)) {\n            return { messages, context };\n        }\n        return {\n            stack: lastElement,\n            messages: messages.slice(0, messages.length - 1),\n            context,\n        };\n    }\n    isStackFormat(stack) {\n        if (!(0, shared_utils_1.isString)(stack) && !(0, shared_utils_1.isUndefined)(stack)) {\n            return false;\n        }\n        return /^(.)+\\n\\s+at .+:\\d+:\\d+/.test(stack);\n    }\n    getColorByLogLevel(level) {\n        switch (level) {\n            case 'debug':\n                return cli_colors_util_1.clc.magentaBright;\n            case 'warn':\n                return cli_colors_util_1.clc.yellow;\n            case 'error':\n                return cli_colors_util_1.clc.red;\n            case 'verbose':\n                return cli_colors_util_1.clc.cyanBright;\n            case 'fatal':\n                return cli_colors_util_1.clc.bold;\n            default:\n                return cli_colors_util_1.clc.green;\n        }\n    }\n};\nexports.ConsoleLogger = ConsoleLogger;\nexports.ConsoleLogger = ConsoleLogger = ConsoleLogger_1 = tslib_1.__decorate([\n    (0, core_1.Injectable)(),\n    tslib_1.__param(0, (0, core_1.Optional)()),\n    tslib_1.__param(1, (0, core_1.Optional)()),\n    tslib_1.__metadata(\"design:paramtypes\", [Object, Object])\n], ConsoleLogger);\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe;AACnBC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,aAAa,GAAG,KAAK,CAAC;AAC9B,MAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,MAAMC,MAAM,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC9B,MAAME,MAAM,GAAGF,OAAO,CAAC,oBAAoB,CAAC;AAC5C,MAAMG,iBAAiB,GAAGH,OAAO,CAAC,0BAA0B,CAAC;AAC7D,MAAMI,cAAc,GAAGJ,OAAO,CAAC,uBAAuB,CAAC;AACvD,MAAMK,2BAA2B,GAAGL,OAAO,CAAC,mCAAmC,CAAC;AAChF,MAAMM,aAAa,GAAG,CAAC;AACvB,MAAMC,kBAAkB,GAAG,CACvB,KAAK,EACL,OAAO,EACP,MAAM,EACN,OAAO,EACP,SAAS,EACT,OAAO,CACV;AACD,MAAMC,iBAAiB,GAAG,IAAIC,IAAI,CAACC,cAAc,CAACC,SAAS,EAAE;EACzDC,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,SAAS;EACfC,MAAM,EAAE,SAAS;EACjBC,MAAM,EAAE,SAAS;EACjBC,GAAG,EAAE,SAAS;EACdC,KAAK,EAAE;AACX,CAAC,CAAC;AACF;AACA;AACA;AACA,IAAInB,aAAa,GAAGL,eAAe,GAAG,MAAMK,aAAa,CAAC;EACtDoB,WAAWA,CAACC,gBAAgB,EAAEC,OAAO,EAAE;IACnC;IACA,IAAI,CAACC,OAAO,EAAEC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAElB,cAAc,CAACmB,QAAQ,EAAEJ,gBAAgB,CAAC,GAC9D,CAACA,gBAAgB,EAAEC,OAAO,CAAC,GAC3BA,OAAO,GACH,CAACT,SAAS,EAAES,OAAO,CAAC,GACpB,CAACD,gBAAgB,EAAEE,OAAO,EAAEF,gBAAgB,CAAC;IACvDG,IAAI,GAAGA,IAAI,IAAI,CAAC,CAAC;IACjBA,IAAI,CAACE,SAAS,KAAKjB,kBAAkB;IACrCe,IAAI,CAACG,MAAM,KAAKH,IAAI,CAACG,MAAM,KAAKH,IAAI,CAACI,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC;IACzDJ,IAAI,CAACK,MAAM,KAAK,MAAM;IACtB,IAAI,CAACP,OAAO,GAAGE,IAAI;IACnB,IAAI,CAACM,cAAc,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAC9C,IAAIR,OAAO,EAAE;MACT,IAAI,CAACA,OAAO,GAAGA,OAAO;MACtB,IAAI,CAACS,eAAe,GAAGT,OAAO;IAClC;EACJ;EACAU,GAAGA,CAACC,OAAO,EAAE,GAAGC,cAAc,EAAE;IAC5B,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,KAAK,CAAC,EAAE;MAC7B;IACJ;IACA,MAAM;MAAEC,QAAQ;MAAEd;IAAQ,CAAC,GAAG,IAAI,CAACe,4BAA4B,CAAC,CAC5DJ,OAAO,EACP,GAAGC,cAAc,CACpB,CAAC;IACF,IAAI,CAACI,aAAa,CAACF,QAAQ,EAAEd,OAAO,EAAE,KAAK,CAAC;EAChD;EACAiB,KAAKA,CAACN,OAAO,EAAE,GAAGC,cAAc,EAAE;IAC9B,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;MAC/B;IACJ;IACA,MAAM;MAAEC,QAAQ;MAAEd,OAAO;MAAEkB;IAAM,CAAC,GAAG,IAAI,CAACC,oCAAoC,CAAC,CAACR,OAAO,EAAE,GAAGC,cAAc,CAAC,CAAC;IAC5G,IAAI,CAACI,aAAa,CAACF,QAAQ,EAAEd,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAEkB,KAAK,CAAC;IAC/D,IAAI,CAACE,eAAe,CAACF,KAAK,CAAC;EAC/B;EACAG,IAAIA,CAACV,OAAO,EAAE,GAAGC,cAAc,EAAE;IAC7B,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,MAAM,CAAC,EAAE;MAC9B;IACJ;IACA,MAAM;MAAEC,QAAQ;MAAEd;IAAQ,CAAC,GAAG,IAAI,CAACe,4BAA4B,CAAC,CAC5DJ,OAAO,EACP,GAAGC,cAAc,CACpB,CAAC;IACF,IAAI,CAACI,aAAa,CAACF,QAAQ,EAAEd,OAAO,EAAE,MAAM,CAAC;EACjD;EACAsB,KAAKA,CAACX,OAAO,EAAE,GAAGC,cAAc,EAAE;IAC9B,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;MAC/B;IACJ;IACA,MAAM;MAAEC,QAAQ;MAAEd;IAAQ,CAAC,GAAG,IAAI,CAACe,4BAA4B,CAAC,CAC5DJ,OAAO,EACP,GAAGC,cAAc,CACpB,CAAC;IACF,IAAI,CAACI,aAAa,CAACF,QAAQ,EAAEd,OAAO,EAAE,OAAO,CAAC;EAClD;EACAuB,OAAOA,CAACZ,OAAO,EAAE,GAAGC,cAAc,EAAE;IAChC,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,SAAS,CAAC,EAAE;MACjC;IACJ;IACA,MAAM;MAAEC,QAAQ;MAAEd;IAAQ,CAAC,GAAG,IAAI,CAACe,4BAA4B,CAAC,CAC5DJ,OAAO,EACP,GAAGC,cAAc,CACpB,CAAC;IACF,IAAI,CAACI,aAAa,CAACF,QAAQ,EAAEd,OAAO,EAAE,SAAS,CAAC;EACpD;EACAwB,KAAKA,CAACb,OAAO,EAAE,GAAGC,cAAc,EAAE;IAC9B,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;MAC/B;IACJ;IACA,MAAM;MAAEC,QAAQ;MAAEd;IAAQ,CAAC,GAAG,IAAI,CAACe,4BAA4B,CAAC,CAC5DJ,OAAO,EACP,GAAGC,cAAc,CACpB,CAAC;IACF,IAAI,CAACI,aAAa,CAACF,QAAQ,EAAEd,OAAO,EAAE,OAAO,CAAC;EAClD;EACA;AACJ;AACA;AACA;EACIyB,YAAYA,CAACC,MAAM,EAAE;IACjB,IAAI,CAAC,IAAI,CAAC3B,OAAO,EAAE;MACf,IAAI,CAACA,OAAO,GAAG,CAAC,CAAC;IACrB;IACA,IAAI,CAACA,OAAO,CAACI,SAAS,GAAGuB,MAAM;EACnC;EACA;AACJ;AACA;AACA;EACIC,UAAUA,CAAC3B,OAAO,EAAE;IAChB,IAAI,CAACA,OAAO,GAAGA,OAAO;EAC1B;EACA;AACJ;AACA;EACI4B,YAAYA,CAAA,EAAG;IACX,IAAI,CAAC5B,OAAO,GAAG,IAAI,CAACS,eAAe;EACvC;EACAI,cAAcA,CAACgB,KAAK,EAAE;IAClB,MAAM1B,SAAS,GAAG,IAAI,CAACJ,OAAO,EAAEI,SAAS;IACzC,OAAO,CAAC,CAAC,EAAEnB,2BAA2B,CAAC8C,iBAAiB,EAAED,KAAK,EAAE1B,SAAS,CAAC;EAC/E;EACA4B,YAAYA,CAAA,EAAG;IACX,OAAO5C,iBAAiB,CAAC6C,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAC/C;EACAlB,aAAaA,CAACF,QAAQ,EAAEd,OAAO,GAAG,EAAE,EAAEmC,QAAQ,GAAG,KAAK,EAAEC,eAAe,EAAEC,UAAU,EAAE;IACjFvB,QAAQ,CAACwB,OAAO,CAAC3B,OAAO,IAAI;MACxB,IAAI,IAAI,CAACZ,OAAO,CAACM,IAAI,EAAE;QACnB,IAAI,CAACkC,WAAW,CAAC5B,OAAO,EAAE;UACtBX,OAAO;UACPmC,QAAQ;UACRC,eAAe;UACfC;QACJ,CAAC,CAAC;QACF;MACJ;MACA,MAAMG,UAAU,GAAG,IAAI,CAACC,SAAS,CAACC,OAAO,CAACC,GAAG,CAAC;MAC9C,MAAMC,cAAc,GAAG,IAAI,CAACC,aAAa,CAAC7C,OAAO,CAAC;MAClD,MAAM8C,aAAa,GAAG,IAAI,CAACC,yBAAyB,CAAC,CAAC;MACtD,MAAMC,iBAAiB,GAAGb,QAAQ,CAACc,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;MACjE,MAAMC,gBAAgB,GAAG,IAAI,CAACC,aAAa,CAACjB,QAAQ,EAAExB,OAAO,EAAE6B,UAAU,EAAEQ,iBAAiB,EAAEJ,cAAc,EAAEE,aAAa,CAAC;MAC5HJ,OAAO,CAACN,eAAe,IAAI,QAAQ,CAAC,CAACiB,KAAK,CAACF,gBAAgB,CAAC;IAChE,CAAC,CAAC;EACN;EACAZ,WAAWA,CAAC5B,OAAO,EAAEZ,OAAO,EAAE;IAC1B,MAAMuD,SAAS,GAAG,IAAI,CAACC,gBAAgB,CAAC5C,OAAO,EAAEZ,OAAO,CAAC;IACzD,MAAMoD,gBAAgB,GAAG,CAAC,IAAI,CAACpD,OAAO,CAACK,MAAM,IAAI,IAAI,CAACG,cAAc,CAACiD,OAAO,KAAK,IAAI,GAC/EC,IAAI,CAACC,SAAS,CAACJ,SAAS,EAAE,IAAI,CAACK,iBAAiB,CAAC,GACjD,CAAC,CAAC,EAAE/E,MAAM,CAACgF,OAAO,EAAEN,SAAS,EAAE,IAAI,CAAC/C,cAAc,CAAC;IACzDmC,OAAO,CAAC3C,OAAO,CAACqC,eAAe,IAAI,QAAQ,CAAC,CAACiB,KAAK,CAAC,GAAGF,gBAAgB,IAAI,CAAC;EAC/E;EACAI,gBAAgBA,CAAC5C,OAAO,EAAEZ,OAAO,EAAE;IAC/B,MAAMuD,SAAS,GAAG;MACdzB,KAAK,EAAE9B,OAAO,CAACoC,QAAQ;MACvBQ,GAAG,EAAED,OAAO,CAACC,GAAG;MAChBkB,SAAS,EAAE5B,IAAI,CAACC,GAAG,CAAC,CAAC;MACrBvB;IACJ,CAAC;IACD,IAAIZ,OAAO,CAACC,OAAO,EAAE;MACjBsD,SAAS,CAACtD,OAAO,GAAGD,OAAO,CAACC,OAAO;IACvC;IACA,IAAID,OAAO,CAACsC,UAAU,EAAE;MACpBiB,SAAS,CAACpC,KAAK,GAAGnB,OAAO,CAACsC,UAAU;IACxC;IACA,OAAOiB,SAAS;EACpB;EACAb,SAASA,CAACE,GAAG,EAAE;IACX,OAAO,IAAI,IAAI,CAAC5C,OAAO,CAACO,MAAM,KAAKqC,GAAG,MAAM;EAChD;EACAE,aAAaA,CAAC7C,OAAO,EAAE;IACnB,IAAI,CAACA,OAAO,EAAE;MACV,OAAO,EAAE;IACb;IACAA,OAAO,GAAG,IAAIA,OAAO,IAAI;IACzB,OAAO,IAAI,CAACD,OAAO,CAACK,MAAM,GAAG,CAAC,CAAC,EAAEtB,iBAAiB,CAACgF,MAAM,EAAE9D,OAAO,CAAC,GAAGA,OAAO;EACjF;EACAoD,aAAaA,CAACjB,QAAQ,EAAExB,OAAO,EAAE6B,UAAU,EAAEQ,iBAAiB,EAAEJ,cAAc,EAAEE,aAAa,EAAE;IAC3F,MAAMiB,MAAM,GAAG,IAAI,CAACC,gBAAgB,CAACrD,OAAO,EAAEwB,QAAQ,CAAC;IACvDK,UAAU,GAAG,IAAI,CAACyB,QAAQ,CAACzB,UAAU,EAAEL,QAAQ,CAAC;IAChDa,iBAAiB,GAAG,IAAI,CAACiB,QAAQ,CAACjB,iBAAiB,EAAEb,QAAQ,CAAC;IAC9D,OAAO,GAAGK,UAAU,GAAG,IAAI,CAACT,YAAY,CAAC,CAAC,IAAIiB,iBAAiB,IAAIJ,cAAc,GAAGmB,MAAM,GAAGjB,aAAa,IAAI;EAClH;EACAkB,gBAAgBA,CAACrD,OAAO,EAAEwB,QAAQ,EAAE;IAChC,IAAI,CAAC,CAAC,EAAEpD,cAAc,CAACmF,UAAU,EAAEvD,OAAO,CAAC,EAAE;MACzC,MAAMwD,YAAY,GAAGC,QAAQ,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAAC5D,OAAO,CAAC;MAC9D,MAAM6D,OAAO,GAAGL,YAAY,CAACM,UAAU,CAAC,QAAQ,CAAC;MACjD,IAAID,OAAO,EAAE;QACT;QACA,OAAO,IAAI,CAACR,gBAAgB,CAACrD,OAAO,CAAC+D,IAAI,EAAEvC,QAAQ,CAAC;MACxD;MACA;MACA,OAAO,IAAI,CAAC6B,gBAAgB,CAACrD,OAAO,CAAC,CAAC,EAAEwB,QAAQ,CAAC;IACrD;IACA,IAAI,OAAOxB,OAAO,KAAK,QAAQ,EAAE;MAC7B,OAAO,IAAI,CAACsD,QAAQ,CAACtD,OAAO,EAAEwB,QAAQ,CAAC;IAC3C;IACA,MAAMwC,UAAU,GAAG,CAAC,CAAC,EAAE/F,MAAM,CAACgF,OAAO,EAAEjD,OAAO,EAAE,IAAI,CAACJ,cAAc,CAAC;IACpE,IAAI,CAAC,CAAC,EAAExB,cAAc,CAAC6F,aAAa,EAAEjE,OAAO,CAAC,EAAE;MAC5C,OAAO,UAAUtC,MAAM,CAACwG,IAAI,CAAClE,OAAO,CAAC,CAACmE,MAAM,KAAKH,UAAU,EAAE;IACjE;IACA,IAAII,KAAK,CAACC,OAAO,CAACrE,OAAO,CAAC,EAAE;MACxB,OAAO,SAASA,OAAO,CAACmE,MAAM,KAAKH,UAAU,EAAE;IACnD;IACA,OAAOA,UAAU;EACrB;EACAV,QAAQA,CAACtD,OAAO,EAAEwB,QAAQ,EAAE;IACxB,IAAI,CAAC,IAAI,CAACpC,OAAO,CAACK,MAAM,IAAI,IAAI,CAACL,OAAO,CAACM,IAAI,EAAE;MAC3C,OAAOM,OAAO;IAClB;IACA,MAAMsE,KAAK,GAAG,IAAI,CAACC,kBAAkB,CAAC/C,QAAQ,CAAC;IAC/C,OAAO8C,KAAK,CAACtE,OAAO,CAAC;EACzB;EACAS,eAAeA,CAACF,KAAK,EAAE;IACnB,IAAI,CAACA,KAAK,IAAI,IAAI,CAACnB,OAAO,CAACM,IAAI,EAAE;MAC7B;IACJ;IACAqC,OAAO,CAACyC,MAAM,CAAC9B,KAAK,CAAC,GAAGnC,KAAK,IAAI,CAAC;EACtC;EACA6B,yBAAyBA,CAAA,EAAG;IACxB,MAAMqC,gBAAgB,GAAGhH,eAAe,CAACiH,eAAe,IAAI,IAAI,CAACtF,OAAO,EAAE8D,SAAS;IACnF,MAAMyB,MAAM,GAAGF,gBAAgB,GACzB,IAAI,CAACG,mBAAmB,CAACtD,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG9D,eAAe,CAACiH,eAAe,CAAC,GACtE,EAAE;IACRjH,eAAe,CAACiH,eAAe,GAAGpD,IAAI,CAACC,GAAG,CAAC,CAAC;IAC5C,OAAOoD,MAAM;EACjB;EACAC,mBAAmBA,CAACzC,aAAa,EAAE;IAC/B,MAAM0C,aAAa,GAAG,KAAK1C,aAAa,IAAI;IAC5C,OAAO,IAAI,CAAC/C,OAAO,CAACK,MAAM,GAAG,CAAC,CAAC,EAAEtB,iBAAiB,CAACgF,MAAM,EAAE0B,aAAa,CAAC,GAAGA,aAAa;EAC7F;EACAhF,iBAAiBA,CAAA,EAAG;IAChB,IAAIiF,WAAW,GAAG,IAAI,CAAC1F,OAAO,CAAC0F,WAAW;IAC1C,IAAI,OAAOA,WAAW,KAAK,WAAW,EAAE;MACpCA,WAAW,GAAG,IAAI,CAAC1F,OAAO,CAACK,MAAM,GAC3B,IAAI,CAACL,OAAO,CAACyD,OAAO,GAChBkC,QAAQ,GACRpG,SAAS,GACb,IAAI,CAACS,OAAO,CAACyD,OAAO,KAAK,KAAK,GAC1BlE,SAAS,GACToG,QAAQ,CAAC,CAAC;IACxB;IACA,MAAMnF,cAAc,GAAG;MACnBoF,KAAK,EAAE,IAAI,CAAC5F,OAAO,CAAC4F,KAAK,IAAI1G,aAAa;MAC1C2G,MAAM,EAAE,IAAI,CAAC7F,OAAO,CAAC6F,MAAM;MAC3BC,UAAU,EAAE,IAAI,CAAC9F,OAAO,CAAC8F,UAAU;MACnCrC,OAAO,EAAE,IAAI,CAACzD,OAAO,CAACyD,OAAO,KAAK,IAAI,CAACzD,OAAO,CAACM,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC;MACnED,MAAM,EAAE,IAAI,CAACL,OAAO,CAACK,MAAM;MAC3BqF;IACJ,CAAC;IACD,IAAI,IAAI,CAAC1F,OAAO,CAAC+F,cAAc,EAAE;MAC7BvF,cAAc,CAACuF,cAAc,GAAG,IAAI,CAAC/F,OAAO,CAAC+F,cAAc;IAC/D;IACA,IAAI,IAAI,CAAC/F,OAAO,CAACgG,eAAe,EAAE;MAC9BxF,cAAc,CAACwF,eAAe,GAAG,IAAI,CAAChG,OAAO,CAACgG,eAAe;IACjE;IACA,OAAOxF,cAAc;EACzB;EACAoD,iBAAiBA,CAACqC,GAAG,EAAExH,KAAK,EAAE;IAC1B;IACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC3B,OAAOA,KAAK,CAAC8F,QAAQ,CAAC,CAAC;IAC3B;IACA,IAAI,OAAO9F,KAAK,KAAK,QAAQ,EAAE;MAC3B,OAAOA,KAAK,CAAC8F,QAAQ,CAAC,CAAC;IAC3B;IACA,IAAI9F,KAAK,YAAYyH,GAAG,IACpBzH,KAAK,YAAY0H,GAAG,IACpB1H,KAAK,YAAY2H,KAAK,EAAE;MACxB,OAAO,GAAG,CAAC,CAAC,EAAEvH,MAAM,CAACgF,OAAO,EAAEpF,KAAK,EAAE,IAAI,CAAC+B,cAAc,CAAC,EAAE;IAC/D;IACA,OAAO/B,KAAK;EAChB;EACAuC,4BAA4BA,CAACqF,IAAI,EAAE;IAC/B,IAAIA,IAAI,EAAEtB,MAAM,IAAI,CAAC,EAAE;MACnB,OAAO;QAAEhE,QAAQ,EAAEsF,IAAI;QAAEpG,OAAO,EAAE,IAAI,CAACA;MAAQ,CAAC;IACpD;IACA,MAAMqG,WAAW,GAAGD,IAAI,CAACA,IAAI,CAACtB,MAAM,GAAG,CAAC,CAAC;IACzC,MAAMwB,SAAS,GAAG,CAAC,CAAC,EAAEvH,cAAc,CAACmB,QAAQ,EAAEmG,WAAW,CAAC;IAC3D,IAAI,CAACC,SAAS,EAAE;MACZ,OAAO;QAAExF,QAAQ,EAAEsF,IAAI;QAAEpG,OAAO,EAAE,IAAI,CAACA;MAAQ,CAAC;IACpD;IACA,OAAO;MACHA,OAAO,EAAEqG,WAAW;MACpBvF,QAAQ,EAAEsF,IAAI,CAACG,KAAK,CAAC,CAAC,EAAEH,IAAI,CAACtB,MAAM,GAAG,CAAC;IAC3C,CAAC;EACL;EACA3D,oCAAoCA,CAACiF,IAAI,EAAE;IACvC,IAAIA,IAAI,CAACtB,MAAM,KAAK,CAAC,EAAE;MACnB,OAAO,IAAI,CAAC0B,aAAa,CAACJ,IAAI,CAAC,CAAC,CAAC,CAAC,GAC5B;QACEtF,QAAQ,EAAE,CAACsF,IAAI,CAAC,CAAC,CAAC,CAAC;QACnBlF,KAAK,EAAEkF,IAAI,CAAC,CAAC,CAAC;QACdpG,OAAO,EAAE,IAAI,CAACA;MAClB,CAAC,GACC;QACEc,QAAQ,EAAE,CAACsF,IAAI,CAAC,CAAC,CAAC,CAAC;QACnBpG,OAAO,EAAEoG,IAAI,CAAC,CAAC;MACnB,CAAC;IACT;IACA,MAAM;MAAEtF,QAAQ;MAAEd;IAAQ,CAAC,GAAG,IAAI,CAACe,4BAA4B,CAACqF,IAAI,CAAC;IACrE,IAAItF,QAAQ,EAAEgE,MAAM,IAAI,CAAC,EAAE;MACvB,OAAO;QAAEhE,QAAQ;QAAEd;MAAQ,CAAC;IAChC;IACA,MAAMqG,WAAW,GAAGvF,QAAQ,CAACA,QAAQ,CAACgE,MAAM,GAAG,CAAC,CAAC;IACjD,MAAM2B,OAAO,GAAG,CAAC,CAAC,EAAE1H,cAAc,CAACmB,QAAQ,EAAEmG,WAAW,CAAC;IACzD;IACA,IAAI,CAACI,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE1H,cAAc,CAAC2H,WAAW,EAAEL,WAAW,CAAC,EAAE;MAC3D,OAAO;QAAEvF,QAAQ;QAAEd;MAAQ,CAAC;IAChC;IACA,OAAO;MACHkB,KAAK,EAAEmF,WAAW;MAClBvF,QAAQ,EAAEA,QAAQ,CAACyF,KAAK,CAAC,CAAC,EAAEzF,QAAQ,CAACgE,MAAM,GAAG,CAAC,CAAC;MAChD9E;IACJ,CAAC;EACL;EACAwG,aAAaA,CAACtF,KAAK,EAAE;IACjB,IAAI,CAAC,CAAC,CAAC,EAAEnC,cAAc,CAACmB,QAAQ,EAAEgB,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAEnC,cAAc,CAAC2H,WAAW,EAAExF,KAAK,CAAC,EAAE;MACjF,OAAO,KAAK;IAChB;IACA,OAAO,yBAAyB,CAACyF,IAAI,CAACzF,KAAK,CAAC;EAChD;EACAgE,kBAAkBA,CAACrD,KAAK,EAAE;IACtB,QAAQA,KAAK;MACT,KAAK,OAAO;QACR,OAAO/C,iBAAiB,CAAC8H,GAAG,CAACC,aAAa;MAC9C,KAAK,MAAM;QACP,OAAO/H,iBAAiB,CAAC8H,GAAG,CAAC9C,MAAM;MACvC,KAAK,OAAO;QACR,OAAOhF,iBAAiB,CAAC8H,GAAG,CAACE,GAAG;MACpC,KAAK,SAAS;QACV,OAAOhI,iBAAiB,CAAC8H,GAAG,CAACG,UAAU;MAC3C,KAAK,OAAO;QACR,OAAOjI,iBAAiB,CAAC8H,GAAG,CAACI,IAAI;MACrC;QACI,OAAOlI,iBAAiB,CAAC8H,GAAG,CAACK,KAAK;IAC1C;EACJ;AACJ,CAAC;AACD1I,OAAO,CAACE,aAAa,GAAGA,aAAa;AACrCF,OAAO,CAACE,aAAa,GAAGA,aAAa,GAAGL,eAAe,GAAGM,OAAO,CAACwI,UAAU,CAAC,CACzE,CAAC,CAAC,EAAErI,MAAM,CAACsI,UAAU,EAAE,CAAC,EACxBzI,OAAO,CAAC0I,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEvI,MAAM,CAACwI,QAAQ,EAAE,CAAC,CAAC,EAC1C3I,OAAO,CAAC0I,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEvI,MAAM,CAACwI,QAAQ,EAAE,CAAC,CAAC,EAC1C3I,OAAO,CAAC4I,UAAU,CAAC,mBAAmB,EAAE,CAACjJ,MAAM,EAAEA,MAAM,CAAC,CAAC,CAC5D,EAAEI,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}